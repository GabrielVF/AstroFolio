<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>Token Input</title>
</head>
<body>
    <div class="container">
        <h1>Token Input</h1>
        <div id="token-input-list"></div>
        <p>
            Currency:
            <select id="currency" onchange="saveCurrency(); fetchPrices();">
                <option value="usd">USD</option>
                <option value="eur">EUR</option>
                <option value="btc">BTC</option>
            </select>
        </p>
        <a href="index.html">Go to Balance Page</a>
    </div>
    <script src="js/scripts.js"></script>
    <script>
        function createTokenInputElements() {
            const tokenInputList = document.getElementById("token-input-list");

            tokens.forEach(token => {
                const tokenInputElement = document.createElement("p");
                tokenInputElement.innerHTML = `
                    <label for="${token.name}Tokens">$${token.name}:</label>
                    <input type="number" id="${token.name}Tokens" min="0">
                    <span class="unit-price" id="${token.name}Price"></span>
                `;
                tokenInputList.appendChild(tokenInputElement);

                const tokenInput = document.getElementById(`${token.name}Tokens`);
                tokenInput.addEventListener("input", () => {
                    saveToken(token.name);
                    calculateValue();
                });
            });
        }

        window.addEventListener("load", () => {
            createTokenInputElements();
            loadAllTokens();
            loadCurrency();
            fetchPrices();
        });
    </script>
</body>
</html>
